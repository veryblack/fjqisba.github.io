---
layout: post
title: '反调试揭秘系列'
date: 2018-11-25
categories: MarkDown
tags: 反调试 ollydbg
---

这里记录着一些曾运用在一些软件上的反调试检测.
如果你不知道是怎么检测的,那么你也许会深陷其中.

然而当你了解到这些所谓的反调试方法后,你会发现,不过如此。。

### 进程检测

我们知道，任意一个进程都拥有枚举进程的权限,所以最简单暴力的检测方式不就是枚举运行的进程名称吗?
诸如olly4st.exe,吾爱破解[LCG].exe,YzDbg.exe,x32dbg.exe,甚至连SRSniffer.exe,WSExplorer.exe这样的都出来了.
简单粗暴还真有一点疗效.怎么过检测就不用我说了吧.

### 文件信息检测

方法其实跟上面的那个是同一类的,也是枚举进程,进程所暴露出来的信息,除了进程名称以外,还有一个重要的就是进程的路径.
通过路径来得到进程文件,而文件则又暴露出来一堆信息,为反调试提供了支持.
![检测001](/assets/img/反调试/检测001.png)
主要是运用了GetFileVersionInfoSize,GetFileVersionInfo,VerQueryValue这些API.
看到暴露出来的这些信息,应该就知道怎么检测与过检测了吧。

值得一提的是,即使是文件的修改日期,也是拥有检测调试器这个能力的(如果反调试者愿意这么做的话),通过FindFirstFile返回的文件数据结构,
便可以得知文件的修改日期,再收录一些常见调试器的修改日期数据,便可以检测到你的调试器！！！
![检测002](/assets/img/反调试/检测002.png)

### 启动进程反调试

也许你没注意过,当你用调试器启动进程的那一瞬间,就已经暴露了你是用其它进程来运行此进程的信息.







